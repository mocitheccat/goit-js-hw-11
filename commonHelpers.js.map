{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["const KEY = '43388201-d3d6dfd281aefcb5631baa551';\n\nexport function getImages(query) {\n  const searchParams = new URLSearchParams({\n    key: KEY,\n    q: query,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  if (!query) {\n    return Promise.reject(new Error('Enter a query'));\n  }\n  return fetch(`https://pixabay.com/api/?${searchParams.toString()}`)\n    .then(response => {\n      if (!response.ok) {\n        throw Error(response.status);\n      }\n      return response.json();\n    })\n    .then(data => data.hits)\n    .catch(err => {\n      console.log(err);\n      return null;\n    });\n}\n","import iziToast from 'izitoast';\nimport SimpleLightbox from 'simplelightbox';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nexport function render(imgs) {\n  const galleryRef = document.querySelector('.gallery');\n\n  const markup = imgs\n    .map(\n      ({\n        webformatURL,\n        largeImageURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) =>\n        `<li class=\"image-card\">\n          <a class=\"img-link\" href=${largeImageURL}>\n            <div class=\"gallery-image\">\n              <img class=\"image\" src=${webformatURL} alt=\"${tags}\">\n            </div>\n            <div class=\"img-caption\">\n                <ul class=\"img-stats\">\n                    <li class=\"stat-item\">\n                        <p class=\"stat-name\">Likes</p>\n                        <span>${likes}</span>\n                    </li>\n                    <li class=\"stat-item\">\n                        <p class=\"stat-name\">Views</p>\n                        <span>${views}</span>\n                    </li>\n                    <li class=\"stat-item\">\n                        <p class=\"stat-name\">Comments</p>\n                        <span>${comments}</span>\n                    </li>\n                    <li class=\"stat-item\">\n                        <p class=\"stat-name\">Downloads</p>\n                        <span>${downloads}</span>\n                    </li>\n                </ul>\n            </div>\n              </a>\n         </li>`\n    )\n    .join('');\n\n  galleryRef.insertAdjacentHTML('beforeend', markup);\n\n  const lightboxOptions = {\n    captions: true,\n    captionSelector: '.image',\n    captionType: 'attr',\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  };\n\n  const lightbox = new SimpleLightbox('.img-link', lightboxOptions);\n  lightbox.refresh();\n}\n","import { getImages } from './js/pixabay-api';\nimport { render } from './js/render-functions';\n\nconst formElements = document.querySelector('.search-form').elements;\nconst input = formElements['input'];\nconst searchBtn = formElements['submit'];\nlet query;\ninput.addEventListener('input', e => {\n  query = e.target.value.trim().toLowerCase();\n});\nsearchBtn.addEventListener('click', e => {\n  e.preventDefault();\n  getImages(query).then(imgs => render(imgs));\n});\n"],"names":["KEY","getImages","query","searchParams","response","data","err","render","imgs","galleryRef","markup","webformatURL","largeImageURL","tags","likes","views","comments","downloads","lightboxOptions","SimpleLightbox","formElements","input","searchBtn","e"],"mappings":"svBAAA,MAAMA,EAAM,qCAEL,SAASC,EAAUC,EAAO,CAC/B,MAAMC,EAAe,IAAI,gBAAgB,CACvC,IAAKH,EACL,EAAGE,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACD,OAAKA,EAGE,MAAM,4BAA4BC,EAAa,SAAQ,CAAE,EAAE,EAC/D,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,MAAMA,EAAS,MAAM,EAE7B,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKC,GAAQA,EAAK,IAAI,EACtB,MAAMC,IACL,QAAQ,IAAIA,CAAG,EACR,KACR,EAbM,QAAQ,OAAO,IAAI,MAAM,eAAe,CAAC,CAcpD,CCpBO,SAASC,EAAOC,EAAM,CAC3B,MAAMC,EAAa,SAAS,cAAc,UAAU,EAE9CC,EAASF,EACZ,IACC,CAAC,CACC,aAAAG,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACD,IACC;AAAA,qCAC6BL,CAAa;AAAA;AAAA,uCAEXD,CAAY,SAASE,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gCAMhCC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gCAILC,CAAQ;AAAA;AAAA;AAAA;AAAA,gCAIRC,CAAS;AAAA;AAAA;AAAA;AAAA;AAAA,eAMpC,EACA,KAAK,EAAE,EAEVR,EAAW,mBAAmB,YAAaC,CAAM,EAEjD,MAAMQ,EAAkB,CACtB,SAAU,GACV,gBAAiB,SACjB,YAAa,OACb,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,EAEmB,IAAIC,EAAe,YAAaD,CAAe,EACvD,QAAO,CAClB,CC3DA,MAAME,EAAe,SAAS,cAAc,cAAc,EAAE,SACtDC,EAAQD,EAAa,MACrBE,EAAYF,EAAa,OAC/B,IAAIlB,EACJmB,EAAM,iBAAiB,QAASE,GAAK,CACnCrB,EAAQqB,EAAE,OAAO,MAAM,KAAI,EAAG,aAChC,CAAC,EACDD,EAAU,iBAAiB,QAASC,GAAK,CACvCA,EAAE,eAAc,EAChBtB,EAAUC,CAAK,EAAE,KAAKM,GAAQD,EAAOC,CAAI,CAAC,CAC5C,CAAC"}